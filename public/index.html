<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Le ptit bout de bois - Cr√©ations artisanales en bois</title>
  <meta name="description" content="Cr√©ations artisanales en bois par Jean-Michel Nougu√©-Lecocq : jeux, accessoires, bijoux bois et pierres.">
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700;900&family=Raleway:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
  <!-- Header avec enseigne suspendue -->
  <header>
    <div class="site-title">
      <span class="nail"></span>
      <span class="nail"></span>
      <h1>Le ptit bout de bois</h1>
    </div>
    <p class="site-subtitle">Cr√©ations artisanales en bois par Jean-Michel Nougu√©-Lecocq</p>
  </header>

  <!-- Navigation -->
  <nav>
    <ul>
      <li><a href="/">Accueil</a></li>
      <li><a href="/catalogue">Catalogue</a></li>
      <li><a href="/panier">Panier <span id="cart-count">(0)</span></a></li>
      <li><a href="/contact">Contact</a></li>
      <li><a href="/boutique" style="background: linear-gradient(135deg, #8B4513, #A0522D); color: white; padding: 0.5rem 1rem; border-radius: 20px; font-weight: 600; transition: transform 0.3s ease, box-shadow 0.3s ease; border: 2px solid #D2691E;" onmouseover="this.style.transform='scale(1.05)'; this.style.boxShadow='0 4px 15px rgba(139, 69, 19, 0.5)'" onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='none'">üè° La Boutique</a></li>
    </ul>
  </nav>

  <!-- Conteneur principal -->
  <div class="container page-transition">
    <!-- Section d'accueil -->
    <section class="hero-section" style="text-align: center; margin: 3rem 0;">
      <h2 style="font-size: 2.5rem; color: var(--wood-dark); margin-bottom: 1rem;">
        ü™µ Bienvenue dans l'atelier
      </h2>
      <p style="font-size: 1.2rem; color: var(--wood-medium); max-width: 700px; margin: 0 auto; line-height: 1.8;">
        Chaque pi√®ce est unique, fa√ßonn√©e avec passion et savoir-faire.
        Du jeu traditionnel √† l'accessoire du quotidien, d√©couvrez des cr√©ations
        qui allient authenticit√©, chaleur du bois et durabilit√©.
      </p>
    </section>

    <!-- Section cat√©gories -->
    <section class="categories-section" style="margin: 3rem 0;">
      <h2 style="text-align: center; font-size: 2rem; color: var(--wood-dark); margin-bottom: 2rem;">
        üõ†Ô∏è Nos cr√©ations
      </h2>
      <div id="categories-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem;">
        <!-- Les cat√©gories seront charg√©es dynamiquement -->
      </div>
    </section>

    <!-- Section produits phares -->
    <section class="featured-products" style="margin: 3rem 0;">
      <h2 style="text-align: center; font-size: 2rem; color: var(--wood-dark); margin-bottom: 2rem;">
        ‚≠ê Cr√©ations du moment
      </h2>
      <div class="product-grid" id="featured-products">
        <!-- Les produits seront charg√©s ici par JavaScript -->
      </div>
      <div style="text-align: center; margin-top: 2rem;">
        <a href="/catalogue" class="btn btn-primary">Voir tout le catalogue ‚Üí</a>
      </div>
    </section>

    <!-- Section √† propos -->
    <section class="about-section"
             style="background: white; border-radius: 12px; padding: 3rem; margin: 3rem 0;
                    box-shadow: var(--shadow-medium); border: 3px solid var(--wood-light);">
      <h2 style="text-align: center; font-size: 2rem; color: var(--wood-dark); margin-bottom: 2rem;">
        ü™ì L'artisan
      </h2>
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; align-items: center;">
        <div>
          <p style="font-size: 1.1rem; color: var(--wood-medium); line-height: 1.8; margin-bottom: 1rem;">
            Passionn√© de travail du bois depuis toujours, je cr√©e des pi√®ces uniques
            dans mon atelier. Chaque cr√©ation est pens√©e, dessin√©e, puis r√©alis√©e
            avec des outils traditionnels et beaucoup d'amour du d√©tail.
          </p>
          <p style="font-size: 1.1rem; color: var(--wood-medium); line-height: 1.8;">
            En collaboration avec Yvonne de <a href="http://localhost:3000" style="color: #9333EA; font-weight: 600;">
            La p'tite perlouze</a>, nous cr√©ons aussi des bijoux alliant bois et pierres naturelles.
          </p>
        </div>
        <div style="text-align: center;">
          <div style="width: 200px; height: 200px; background: linear-gradient(135deg, var(--wood-light), var(--wood-medium));
                      border-radius: 50%; margin: 0 auto; display: flex; align-items: center; justify-content: center;
                      box-shadow: var(--shadow-strong); border: 4px solid white;">
            <span style="font-size: 5rem;">ü™ö</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Section univers jumeau -->
    <section class="twin-universe"
             style="background: linear-gradient(135deg, rgba(147, 51, 234, 0.1), rgba(167, 139, 250, 0.1));
                    border-radius: 12px; padding: 3rem; margin: 3rem 0; text-align: center;
                    box-shadow: var(--shadow-medium); border: 3px solid rgba(147, 51, 234, 0.3);">
      <h2 style="font-size: 2rem; color: var(--wood-dark); margin-bottom: 1rem;">
        ‚ú® D√©couvrez aussi La p'tite perlouze
      </h2>
      <p style="font-size: 1.1rem; color: var(--wood-medium); margin-bottom: 2rem; max-width: 600px; margin-left: auto; margin-right: auto;">
        L'univers compl√©mentaire des bijoux en pierres naturelles d'Yvonne Lecocq.
        Nos cr√©ations s'harmonisent parfaitement !
      </p>
      <a href="http://localhost:3000" class="btn"
         style="background: linear-gradient(135deg, #9333EA, #7C3AED); color: white; display: inline-flex;
                align-items: center; gap: 0.5rem; box-shadow: var(--shadow-medium);">
        Visiter La p'tite perlouze ‚Üí
      </a>
    </section>
  </div>

  <!-- Footer -->
  <footer>
    <p><strong>Le ptit bout de bois</strong> - Cr√©ations artisanales par Jean-Michel Nougu√©-Lecocq</p>
    <p>
      <a href="/contact">Contact</a> |
      <a href="/admin">Administration</a> |
      <a href="http://localhost:3000">La p'tite perlouze</a>
    </p>
    <p style="margin-top: 1rem; font-size: 0.9rem; opacity: 0.8;">
      ¬© 2026 Le ptit bout de bois - Fait avec passion ü™µ
    </p>
  </footer>

  <!-- Script JavaScript -->
  <script src="/js/modal.js"></script>
  <script src="/js/main.js"></script>
  <script>
    // Charger les cat√©gories
    async function loadCategories() {
      try {
        const response = await fetch('/api/settings/categories');
        const categories = await response.json();

        const container = document.getElementById('categories-grid');

        if (categories.length === 0) {
          container.innerHTML = '<p style="text-align: center; color: var(--slate-gray); grid-column: 1 / -1;">Aucune cat√©gorie disponible pour le moment.</p>';
          return;
        }

        container.innerHTML = categories.map(category => `
          <div class="category-card" onclick="window.location.href='/catalogue?category=${encodeURIComponent(category.name)}'"
               style="background: white; border-radius: 12px; padding: 2rem; text-align: center;
                      box-shadow: var(--shadow-medium); cursor: pointer; transition: transform 0.3s ease;
                      border: 3px solid var(--wood-light);"
               onmouseover="this.style.transform='translateY(-8px)'"
               onmouseout="this.style.transform='translateY(0)'">
            <div style="font-size: 4rem; margin-bottom: 1rem;">${category.emoji || 'ü™µ'}</div>
            <h3 style="color: var(--wood-dark); font-size: 1.5rem; margin-bottom: 0.5rem;">${category.name}</h3>
            <p style="color: var(--slate-gray);">${category.description || ''}</p>
          </div>
        `).join('');
      } catch (error) {
        console.error('Erreur chargement cat√©gories:', error);
        const container = document.getElementById('categories-grid');
        container.innerHTML = '<p style="text-align: center; color: var(--slate-gray); grid-column: 1 / -1;">Impossible de charger les cat√©gories pour le moment.</p>';
      }
    }

    // Charger les produits phares
    async function loadFeaturedProducts() {
      try {
        const response = await fetch('/api/products');
        const products = await response.json();

        // Afficher les 3 premiers produits
        const featuredProducts = products.slice(0, 3);
        const container = document.getElementById('featured-products');

        container.innerHTML = featuredProducts.map(product => {
          // Utiliser la premi√®re image du tableau images, ou image_url en fallback
          const imageUrl = (product.images && product.images.length > 0)
            ? product.images[0].image_path
            : (product.image_url || '/images/placeholder.jpg');

          return `
          <div class="product-card" onclick="window.location.href='/produit/${product.id}'">
            <img src="${imageUrl}" alt="${product.name}" class="product-image">
            <div class="product-info">
              <span class="product-category">${product.category}</span>
              <h3 class="product-name">${product.name}</h3>
              <p class="product-wood">ü™µ ${product.wood_type}</p>
              <p class="product-price">${product.price.toFixed(2)} ‚Ç¨</p>
              <button class="btn btn-primary" style="width: 100%; margin-top: auto;">Voir le produit</button>
            </div>
          </div>
        `;
        }).join('');
      } catch (error) {
        console.error('Erreur chargement produits:', error);
      }
    }

    // Charger au d√©marrage
    loadCategories();
    loadFeaturedProducts();
  </script>

  <!-- Animation de copeaux de bois -->
  <script>
    // Cr√©er des copeaux de bois anim√©s
    function createWoodChips() {
      const numChips = 8;

      for (let i = 0; i < numChips; i++) {
        const chip = document.createElement('div');
        chip.className = 'wood-chip';
        chip.style.left = Math.random() * 100 + '%';
        chip.style.animationDelay = Math.random() * 8 + 's';
        chip.style.animationDuration = (8 + Math.random() * 4) + 's';
        document.body.appendChild(chip);
      }
    }

    createWoodChips();
  </script>
</body>
</html>
